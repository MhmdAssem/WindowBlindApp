<table mat-table [dataSource]="value" style="width: 100%;">
  <ng-container matColumnDef="key">
    <td mat-cell *matCellDef="let row">
      <input matInput [value]="row.key" *ngIf="row.editing" (change)="onChange($event, row, 'key')" placeholder="Type"/>
      <span *ngIf="!row.editing">{{ row.key }}</span>
    </td>
  </ng-container>
  <ng-container matColumnDef="value">
    <td mat-cell *matCellDef="let row">
      <input matInput type="number" [value]="row.value" (change)="onChange($event, row, 'value')" 
        *ngIf="row.editing && valueIsNumber" placeholder="Value" />
      <input matInput [value]="row.value" (change)="onChange($event, row, 'value')" 
        *ngIf="row.editing && !valueIsNumber" placeholder="Value"/>
      <span *ngIf="!row.editing" >{{ row.value }}</span>
    </td>
  </ng-container>
  <ng-container matColumnDef="actions">
    <td mat-cell *matCellDef="let row">
      <button *ngIf="!row.editing" mat-icon-button (click)="editRow(row)" >
        <mat-icon>edit</mat-icon>
      </button>
      <button *ngIf="row.editing" mat-icon-button (click)="saveRow(row)" >
        <mat-icon>save</mat-icon>
      </button>
      <button *ngIf="!row.isEmpty" mat-icon-button (click)="deleteRow(row)" >
        <mat-icon>remove</mat-icon>
      </button>

    </td>
  </ng-container>


  <tr mat-row *matRowDef="let row; columns: ['key', 'value', 'actions'];" ></tr>

</table>
